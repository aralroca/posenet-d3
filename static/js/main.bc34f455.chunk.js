(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t){},104:function(e,t){},137:function(e,t){},138:function(e,t){},185:function(e,t,r){},187:function(e,t,r){"use strict";r.r(t);var n=r(38),i=r(90),a=r(16),o=r(17),c=r(19),s=r(18),u=r(20),d=r(6),l=r.n(d),h=r(35),f=r(28),p=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).shouldComponentUpdate=function(){return!1},r.redraw=function(){r.svg&&r.svg.selectAll("*").remove(),r.draw()},r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.draw(),window.addEventListener("resize",this.redraw)}},{key:"componentWillReceiveProps",value:function(){this.redraw()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redraw)}},{key:"containerSize",value:function(){return{width:this.container.clientWidth,height:this.container.clientHeight}}},{key:"draw",value:function(){var e=this.props.graph,t=e.nodes,r=(e.links,this.containerSize()),n=r.width,i=r.height;this.svg=f.d(this.mySvg).attr("width",n).attr("height",i);var a=this.svg.append("g").selectAll("g").data(t,function(e){return e.id}).enter().append("g");a.append("circle").attr("r",function(e){return e.r}).attr("fill","#1565c0");f.c().force("link",f.b().id(function(e){return e.id})).force("center",f.a(n/2,i/2)).nodes(t).on("tick",function(){a.attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container",ref:function(t){e.container=t}},l.a.createElement("svg",{ref:function(t){e.mySvg=t}}))}}]),t}(d.Component);p.defaultProps={graph:{nodes:[],links:[]}};var v=r(39),g=r(9),m=r.n(g),b=r(21),w=r(91),k=50,j=.5,y=16,O=!0,E=.5,S=function(e){function t(){var e,r;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(r=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={poses:{},loading:!0},r.componentDidMount=Object(b.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a(E);case 2:r.net=e.sent,r.initCapture();case 4:case"end":return e.stop()}},e,this)})),r.isMobile=function(){var e=/Android/i.test(navigator.userAgent),t=/iPhone|iPad|iPod/i.test(navigator.userAgent);return e||t},r.loadVideo=function(){var e=Object(b.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setupCamera(t);case 2:return(n=e.sent).play(),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.setupCamera=function(){var e=Object(b.a)(m.a.mark(function e(t){var n,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.width=r.props.videoSize,t.height=r.props.videoSize,!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=11;break}return n=r.isMobile(),e.next=6,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:n?void 0:r.props.videoSize,height:n?void 0:r.props.videoSize}});case 6:return i=e.sent,t.srcObject=i,e.abrupt("return",new Promise(function(e){t.onloadedmetadata=function(){e(t)}}));case 11:return e.abrupt("return",Promise.reject("No compatible"));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.setRef=function(){var e=Object(b.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.videoElement=t;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.initCapture=function(){r.timeout=setTimeout(r.capture,k)},r.capture=Object(b.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.videoElement&&r.net){e.next=3;break}return r.initCapture(),e.abrupt("return");case 3:if(r.video||!r.videoElement){e.next=7;break}return e.next=6,r.loadVideo(r.videoElement);case 6:r.video=e.sent;case 7:return e.next=9,r.net.estimateSinglePose(r.video,j,O,y);case 9:(t=e.sent).keypoints&&r.setState({loading:!1,poses:t.keypoints.reduce(function(e,t){return Object(n.a)({},e,Object(v.a)({},t.part,t))},{})}),r.initCapture();case 12:case"end":return e.stop()}},e,this)})),r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.children?l.a.createElement("div",null,l.a.createElement("video",{className:"video",playsInline:!0,ref:this.setRef}),this.props.children(this.state)):null}}]),t}(d.Component);S.defaultProps={videoSize:300};r(185);var x=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).nodes=[{id:"nose",r:25},{id:"leftShoulder",r:5},{id:"rightShoulder",r:5},{id:"leftElbow",r:5},{id:"rightElbow",r:5},{id:"leftWrist",r:10},{id:"rightWrist",r:10},{id:"leftHip",r:5},{id:"rightHip",r:5},{id:"leftKnee",r:5},{id:"rightKnee",r:5},{id:"leftAnkle",r:10},{id:"rightAnkle",r:10}],e.links=[{source:"leftShoulder",target:"rightShoulder"},{source:"rightWrist",target:"rightElbow"},{source:"rightElbow",target:"rightShoulder"},{source:"leftWrist",target:"leftElbow"},{source:"leftElbow",target:"leftShoulder"},{source:"rightAnkle",target:"rightKnee"},{source:"rightKnee",target:"rightHip"},{source:"rightHip",target:"rightShoulder"},{source:"leftAnkle",target:"leftKnee"},{source:"leftKnee",target:"leftHip"},{source:"leftHip",target:"leftShoulder"},{source:"leftHip",target:"rightHip"}],e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getNodesWithPosition",value:function(e){return this.nodes.reduce(function(t,r){var a=e[r.id]||{},o=a.position||{};return a.score<.5?t:[].concat(Object(i.a)(t),[Object(n.a)({},r,o)])},[])}},{key:"getLinks",value:function(e){var t=e.map(function(e){return e.id});return this.links.filter(function(e){var r=(e.source||{}).id||e.source,n=(e.target||{}).id||e.target;return t.includes(r)&&t.includes(n)})}},{key:"getGraph",value:function(e){var t=this.getNodesWithPosition(e);return{nodes:t,links:this.getLinks(t)}}},{key:"render",value:function(){var e=this;return l.a.createElement(S,{videoSize:300},function(t){var r=t.poses;return t.loading?"Loading...":l.a.createElement(p,{graph:e.getGraph(r)})})}}]),t}(d.Component);Object(h.render)(l.a.createElement(x,null),document.getElementById("root"))},92:function(e,t,r){e.exports=r(187)}},[[92,2,1]]]);
//# sourceMappingURL=main.bc34f455.chunk.js.map